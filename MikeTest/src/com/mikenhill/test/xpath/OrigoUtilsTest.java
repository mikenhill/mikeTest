package com.mikenhill.test.xpath;

import uk.co.liss.origoutils.mapper.apply.OrigoToExtranetTransformer;

public class OrigoUtilsTest {

	public static void main(String[] args) {
		OrigoUtilsTest origoUtilsTest = new OrigoUtilsTest();
		origoUtilsTest.origoTest();

	}
	
	private void origoTest () {
		
		String xml = "<?xml version=\"1.0\"?><message><m_control><control_timestamp>2019-05-17T13:18:11</control_timestamp><message_id>58dfae58-33f9-4ea2-8868-fc5ed82f62c4</message_id><retry_number>0</retry_number><message_type>Proposal</message_type><message_version>/origo/3.8/QNBProtectionNewBusiness.xsd</message_version><expected_response_type>extranet re-direct</expected_response_type><initiator_id>AssureWeb</initiator_id><initiator_orchestration_id>c5f1de22-6ea9-4a9d-82b0-16496c6ef0a0</initiator_orchestration_id><user_id>web65572</user_id><responder_id>gryphon</responder_id><browser><portal_user_name /><portal_password /><service_id>QuotetoApp</service_id><profile>ThirdParty Use</profile><session_id>0</session_id><return_location type=\"Error\">https://reapext.assureweb.co.uk/UI/Extranet/error.aspx</return_location><return_location type=\"Success\">https://reapext.assureweb.co.uk/UI/Extranet/success.aspx?TransactionId=58dfae58-33f9-4ea2-8868-fc5ed82f62c4</return_location><tpsdata><customer_id>e8bf1d30-e8d4-493d-b5df-7ad0f6156280</customer_id><exit_timestamp>2019-05-17T13:18:11</exit_timestamp><businesstypeid /></tpsdata></browser></m_control><m_content><b_control><intermediary_case_reference_number>SIT</intermediary_case_reference_number><quote_type>Comparison</quote_type><quote_or_print>Quote And Print</quote_or_print><message_version_number>3.8</message_version_number><submission_date>2019-05-17</submission_date></b_control><intermediary type=\"IFA\"><sib_number>170601</sib_number><FirmFSARef>170601</FirmFSARef><basis_of_sale><whole_of_market>Yes</whole_of_market></basis_of_sale><company_name>Baring Asset Management Limited</company_name><agency_address><line_1>Eagle Tower</line_1><line_2>Montpellier Drive</line_2><line_3 /><line_4>Cheltenham</line_4><postcode>EC2M 3XY</postcode></agency_address></intermediary><application><personal_client id=\"pc1\"><title /><forenames>JLQ</forenames><surname>ViewIllust</surname><sex>Female</sex><date_of_birth>1989-06-01</date_of_birth><primary_employment_status>Employed</primary_employment_status><employment_contract><occupation code=\"PAD03266\"><![CDATA[Project Manager/Programme Manager]]></occupation><earnings type=\"Basic Annual Salary\"><amount currency=\"GBP\">50000</amount><frequency>Annually</frequency></earnings></employment_contract><tpsdata><quotation_smoker_ind>No</quotation_smoker_ind></tpsdata></personal_client><product product_code=\"GRYCCIC\" type=\"Term Protection\"><main_purpose>Personal</main_purpose><number_of_lives_assured>1</number_of_lives_assured><increment_ind>No</increment_ind><benefits_required><life_assured personal_client_id=\"pc1\" sequence_number=\"1\" /><death_ind>Yes</death_ind><death_or_earlier_cic_ind>No</death_or_earlier_cic_ind><critical_illness_ind>No</critical_illness_ind><tpd_ind>No</tpd_ind><waiver_ind>Yes</waiver_ind></benefits_required><risk_benefit id=\"rb1-1\" type=\"Life And Health\"><cover_basis>Single Life</cover_basis><cover_purpose>Personal</cover_purpose><cover_period><term><years>25</years></term></cover_period><risk_cover><risk_event>Death</risk_event><life_assured personal_client_id=\"pc1\" sequence_number=\"1\" /><lump_sum_benefit><amount currency=\"GBP\">345000</amount></lump_sum_benefit><cover_indexation><change_basis>Level</change_basis><change_index>Level</change_index></cover_indexation></risk_cover><risk_contribution><cost_basis>Paid For Separately</cost_basis><contribution><frequency>Monthly</frequency></contribution><payment_indexation><change_index>Level</change_index></payment_indexation><main_commission commission_entitlement_id=\"ce1\" /><renewal_commission commission_entitlement_id=\"ce2\" /></risk_contribution><risk_benefit_option type=\"Guaranteed Rates\" /><tpsdata><fracture_cover>pc1</fracture_cover></tpsdata></risk_benefit><policy_term><start_date>2019-05-07</start_date></policy_term><commission_entitlement id=\"ce1\" type=\"Initial\"><uplift><percent calculation_basis=\"Entitlement\">100</percent></uplift><indemnity_ind>Yes</indemnity_ind></commission_entitlement><commission_entitlement id=\"ce2\" type=\"Renewal\"><uplift><percent calculation_basis=\"Entitlement\">100</percent></uplift><indemnity_ind>Yes</indemnity_ind></commission_entitlement><illustration_basis><contribution_or_benefit_led>Benefit</contribution_or_benefit_led></illustration_basis><client_specific_illustration><variation element_id=\"rb1-1\" type=\"Add\"><reason><![CDATA[Premium Waiver covering incapacity, unemployment, maternity and paternity leave automatically included.]]></reason></variation><note code=\"CompanyProduct\"><reason><![CDATA[Guaranteed Insurability Options included: Increases are free from underwriting and increased cover price based on client age at start of policy.]]></reason></note><note code=\"CompanyProduct\"><reason><![CDATA[Fracture Cover is an optional feature on all policies.]]></reason></note><note code=\"CompanyProduct\"><reason><![CDATA[See Policy terms and conditions for full details.]]></reason></note><note code=\"CompanyProduct\"><reason><![CDATA[Halo & Guardian Anytime Health & Wellbeing complementary services automatically included.]]></reason></note><note code=\"CompanyProduct\"><reason><![CDATA[Reserved Cover automatically included.]]></reason></note><note code=\"CompanyProduct\"><reason><![CDATA[Immediate cover during underwriting and post underwriting for up to 14 days will provide Life Cover up to ?1,000,000 and Critical Illness up to ?500,000.]]></reason></note><note code=\"CompanyProduct\"><reason><![CDATA[We've included ?25,000 of Children's CI Cover. You can change this amount to anywhere between ?0 and up to ?100,000 when applying.]]></reason></note><note code=\"CompanyProduct\"><reason><![CDATA[Terminal Illness is automatically included. Definition includes diagnosis of less than 12 months to live or diagnosis of Cancer (TNM stage 4), Motor Neurone disease, Parkinson's Plus syndrome and CJD.]]></reason></note><total_contribution><frequency>Monthly</frequency><gross_amount currency=\"GBP\">23.57</gross_amount><number_of_contributions>300</number_of_contributions><discount_amount currency=\"GBP\">0.00</discount_amount></total_contribution><risk_benefit><benefit_definition risk_benefit_id=\"rb1-1\" /><risk_contribution><amount currency=\"GBP\">23.57</amount><frequency>Monthly</frequency></risk_contribution></risk_benefit><commission_entitlement type=\"Initial\"><commission_requested commission_entitlement_id=\"ce1\" /><payment><amount currency=\"GBP\">480.82</amount><frequency>Annually</frequency></payment></commission_entitlement><commission_entitlement type=\"Renewal\"><commission_requested commission_entitlement_id=\"ce2\" /><payment><amount currency=\"GBP\">0.59</amount><frequency>Monthly</frequency></payment></commission_entitlement><tpsdata><ccic_sa>25000.0</ccic_sa><quote_ref>G1557259150300</quote_ref></tpsdata></client_specific_illustration></product></application></m_content></message>";
		
		String xml2 = OrigoToExtranetTransformer.transformOrigoToNB(xml);
		
		System.out.println(xml2);
	}

}
